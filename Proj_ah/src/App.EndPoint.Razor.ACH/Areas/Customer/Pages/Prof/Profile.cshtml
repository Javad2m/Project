@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@model App.EndPoint.Razor.ACH.Areas.Customer.Pages.Prof.ProfileModel
@{
	ViewData["Title"] = "مدیریت پیشنهادها";
	Layout = "_LayoutCustomer";
}

@if (TempData["ErrorMessage"] != null)
{
	<div class="alert alert-danger">
		@TempData["ErrorMessage"]
	</div>
}
@if (TempData["Success"] != null)
{
	<div class="alert alert-success">
		@TempData["Success"]
	</div>
}

<div class="goodup-dashboard-content">
	<div class="dashboard-tlbar d-block mb-5">
		<div class="row">
			<div class="colxl-12 col-lg-12 col-md-12">
				<h1 class="ft-medium fs-lg">پروفایل</h1>
			</div>
		</div>
	</div>

	<div class="dashboard-widg-bar d-block">
		<div class="row">
			<div class="col-xl-12 col-lg-12">
				<div class="dashboard-list-wraps bg-white rounded mb-4">
					<div class="dashboard-list-wraps-head br-bottom py-3 px-3">
						<div class="dashboard-list-wraps-flx">
							<h4 class="mb-0 ft-medium fs-md"><i class="fa fa-file-alt ms-2 theme-cl fs-sm"></i>تنظیمات پروفایل</h4>
						</div>
					</div>
					<form class="submit-form" method="post" asp-page-handler="Update" enctype="multipart/form-data">

						<div class="dashboard-widg-bar d-block">
							<div class="row">
								<div class="col-xl-12 col-lg-12 col-md-8 col-sm-12">
									<div class="dashboard-list-wraps bg-white rounded mb-4">
										<div class="dashboard-list-wraps-head br-bottom py-3 px-3">
											<div class="dashboard-list-wraps-flx">
												<h4 class="mb-0 ft-medium fs-md"><i class="fa fa-user-check ms-2 theme-cl fs-sm"></i>مشخصات </h4>
											</div>
										</div>

										<div class="dashboard-list-wraps-body py-3 px-3">
											<div class="row">
											
												<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
													<div class="form-group">
														<label class="mb-1">نام</label>
														<input asp-for=@Model.Customer.FirstName type="text" class="form-control rounded" />
														<span asp-validation-for="@Model.Customer.FirstName" class="text-danger"></span>
													</div>
												</div>
												<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
													<div class="form-group">
														<label class="mb-1">نام خانوادگی</label>
														<input asp-for=@Model.Customer.LastName type="text" class="form-control rounded" />
														<span asp-validation-for="@Model.Customer.LastName" class="text-danger"></span>
													</div>
												</div>
																				
											</div>										
											<div class="row">
												<div class="row">
													<div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 pt-3">
														<div class="form-group">
															<label class="mb-1">انتخاب شهر محل سکونت</label>
															<select class="form-control rounded" asp-for="Customer.CityId">
																@if (Model.Customer.CityId == null || Model.Customer.CityId == 0)
																{
																	<option value="" selected>انتخاب نشده</option>
																}
																else
																{
																	var selectedCity = Model.Cities.FirstOrDefault(c => c.Id == Model.Customer.CityId);
																	if (selectedCity != null)
																	{
																		<option value="@selectedCity.Id" selected>@selectedCity.Title (شهر فعلی)</option>
																	}
																}

																<option disabled>── تغییر شهر ──</option>

																@foreach (var item in Model.Cities)
																{
																	<option value="@item.Id">@item.Title</option>
																}
															</select>
														</div>
													</div>
												</div>

																													
												<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
													<div class="form-group">
														<button type="submit" class="btn theme-bg rounded text-light">ذخیره تغییرات</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>


							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
